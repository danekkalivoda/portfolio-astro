---
import BaseLayout from '../layouts/BaseLayout.astro'
const data = Astro.fetchContent('../md/projekty/*.md').sort((a, b) => new Date(a.order) - new Date(b.order));
function projectClasses (index) {
    const base = 'mt-4 w-full lg:px-4 lg:w-1/2 2xl:w-1/3 lg:mt-8 3xl:px-6 3xl:mt-16 transform ';

    if (index == 1) {
        return base + '2xl:-translate-y-16';
    } else if (index % 2 == 0) {
        return base + 'lg:translate-y-8 2xl:translate-y-0';
    } else if (index % 3 == 0) {
        return base + '2xl:translate-y-16';
    } else if (index % 5 == 0) {
        return base + '2xl:translate-y-16';
    } else {
        return base + 'lg:-translate-y-8 2xl:translate-y-0'
    }
}
console.log(data)
---
<BaseLayout
    title="Daniel Kalivoda - Product designer, UI developer"
    description="Mám rád funkční věci, které vycházejí z vysokých nároků klienta. Navrhuji weby, mobilní aplikace a UI/UX interních informačních systémů."
    homepage={true}
>
    <div class="fixed inset-0 z-0 flex flex-col min-h-screen" slot="beforeContent">
        <div class="flex items-center justify-center flex-grow w-full px-4 sm:px-16">
            <div class="flex flex-col w-full text-center sm:text-left sm:mx-auto sm:max-w-3xl lg:max-w-4xl xl:max-w-6xl">
                <h2 class="py-2 text-2xl font-black tracking-tight text-blue-400 uppercase sm:text-5xl lg:text-7xl xl:text-8xl">
                    Designer &amp; Developer</h2>
                <p class="text-lg font-light leading-relaxed tracking-tight sm:text-xl lg:text-2xl">
                    13 let pomáhám firmám
                    <a href="https://digital.cz" class="inline-flex items-center text-white hover:text-blue-400">Digital&nbsp;Solutions<span class="w-3 h-3 mx-3 wave"></span></a>
                    <a href="https://tlapnet.cz" class="inline-flex items-center text-white hover:text-blue-400">Tlapnet<span class="w-3 h-3 mx-3 wave"></span></a>
                    <a href="https://ispa.cz" class="inline-flex items-center text-white hover:text-blue-400">ISP&nbsp;Alliance<span class="w-3 h-3 mx-3 wave"></span></a>
                    <a href="https://www.pearshealthcyber.com" class="inline-flex items-center text-white hover:text-blue-400">Pears&nbsp;Health&nbsp;Cyber<span class="w-3 h-3 mx-3 wave"></span></a>
                    <a href="https://www.mcorecode.com" class="inline-flex items-center text-white hover:text-blue-400">mCoreCode<span class="w-3 h-3 mx-3 wave"></span></a>
                    <a href="https://mojevestra.cz" class="inline-flex items-center text-white hover:text-blue-400">Vestra Clinics<span class="w-3 h-3 mx-3 wave"></span></a>
                    <a href="https://nx1.cz/" class="inline-flex items-center text-white hover:text-blue-400">Netrix One<span class="w-3 h-3 mx-3 wave"></span></a> <br class="hidden sm:inline lg:hidden">a dalším,
                    s designem a vývojem webových a mobilních aplikací.
                </p>
            </div>
        </div>
    </div>
    <div class="relative z-20 pt-16 mt-screen">
        <div class="relative min-h-screen bg-white smt-28 sm:smt-22 before:absolute before:w-full before:h-24 before:bg-white before:transform before:-skew-y-1 before:-translate-y-8" id="portfolio">
            <div class="p-4 sm:p-16">
                <div class="w-full sm:mx-auto sm:max-w-3xl lg:max-w-4xl xl:max-w-6xl">
                    <h2 class="relative block mb-4 text-xl font-light text-blue-400 bg-white before:bg-gray-300 before:h-2px sm:text-3xl lg:text-5xl xl:text-6xl before:right-full before:top-1/2 before:absolute before:w-screen before:block before:z-0 sm:mb-8">
                        <span class="relative z-10 block px-4 bg-white sm:px-8 sm:-mx-8 2xl:px-16 2xl:-mx-16">Projekty</span>
                    </h2>
                    <p class="px-4 text-sm leading-relaxed text-gray-700 sm:text-base lg:text-lg sm:px-0">Některé pouze navrhuji, některé i kóduji. O technologiích, které používám se dočtete v sekci služby. Z pohledu čísel, mám za sebou stovky navržených webů a eshopů, 13let je pro mně práce koníčkem.</p>
                </div>
            </div>
            <section class="flex flex-wrap items-stretch w-full px-4 pb-4 -mt-4 sm:pb-8 sm:px-8 3xl:px-12">
                {data.slice(0, 6).map((project, index) => (
                    <article class={projectClasses(index)}>
                        <div class="pb-4 bg-white rounded shadow-xl">
                            <div class="relative pt-16/9">
                                <img src={project.image} alt={project.title} class="absolute top-0 left-0 object-cover w-full h-full rounded-md"/>
                            </div>
                            <h2 class="px-4 pt-3 mb-2 font-bold tracking-tight text-gray-900 border-t sm:px-8 sm:pt-6 sm:text-xl lg:text-2xl">{project.title}</h2>
                            <div class="px-4 text-sm text-gray-400 sm:px-8 sm:text-base lg:text-lg font-extralight">
                                <p class="pb-2 sm:pb-4">{project.description}</p>
                                {project.category.map((item) => (
                                    <div class="inline-flex items-center px-2 mr-2 text-xs font-bold leading-6 text-blue-400 rounded-full bg-blue-50 flex-nowrap sm:py-1 sm:px-4 sm:text-sm lg:text-base">
                                        <span class="w-3 h-3 mr-2 wave sm:mr-4"></span> {item}
                                    </div>
                                ))}
                            </div>
                        </div>
                    </article>
                ))}
            </section>
        </div>
    </div>
</BaseLayout>

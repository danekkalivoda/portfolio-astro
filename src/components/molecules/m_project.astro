---
export interface Props {
  project: object;
  index: number
}
const { project, index } = Astro.props;
function projectClasses (index) {
    const base = 'mt-4 w-full md:px-4 md:w-1/2 xl:w-full transform-gpu ease-in-out duration-300 xl:duration-500 xl:delay-0 ';
/*     if (index % 3 === 1) {
        return base + 'md:delay-600'
    } else if (index %  3 === 0) {
        return base + 'md:delay-300'
    } else if (index % 2  !== 1) {
        return base + 'md:delay-900'
    } else if (index % 2  === 1) {
        return base + 'md:delay-900'
    } */
    if (index % 2 === 1) {
        return base + 'md:delay-600'
    } else {
        return base + 'md:delay-300'
    }
}
---
<article
    class={projectClasses(index)}
    x-intersect:enter="shown = true"
    x-data={'{ article' + index + 'Shown : false }'}
    x-bind:class={"[article" + index + "Shown ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-16' ]"}
>
    <div
        class="mb-8"
        x-intersect:enter={'article' + index + 'Shown = true'}
    >
        <a href="#nogo" class="block p-2 overflow-hidden bg-white border border-gray-100 rounded-md xl:p-4">
            <div class="relative overflow-hidden rounded-md pt-16/10">
                <img src={project.image} alt={project.title} class="absolute top-0 left-0 z-10 object-cover w-full h-full"/>
            </div>
        </a>
        <div class="relative">
            <div class="mx-4 mt-4 mb-2 sm:mx-8 3xl:mx-12">
                <h2 class="inline font-medium tracking-tight text-transparent bg-gradient-to-tr from-blue-600 to-green-400 bg-clip-text sm:text-xl lg:text-2xl">{project.title}</h2>
            </div>
            <div class="px-4 text-sm text-gray-600 sm:px-8 3xl:px-12 3xl:pb-4 lg:text-base">
                <p class="pb-2">{project.description}</p>
                {project.category.map((item) => (
                    <div class="inline-flex items-center mr-2 font-normal leading-6 text-gray-400 uppercase sm:mr-4 text-2xs flex-nowrap sm:py-1 lg:text-xs">
                        <span class="w-3 h-3 mr-2 wave sm:mr-4"></span> {item}
                    </div>
                ))}
            </div>
        </div>
    </div>
</article>
